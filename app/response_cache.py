QUICK_RESPONSES = {
    'it': {
        # Greetings - More variations
        'mi senti': "Sì, ti sento perfettamente!",
        'buongiorno': "Buongiorno! Benvenuto a Cohen House.",
        'buonasera': "Buonasera! Come posso aiutarti?",
        'ciao': "Ciao! Come posso aiutarti?",
        'salve': "Salve! Benvenuto!",
        'buonanotte': "Buonanotte! Riposa bene!",
        
        # Language - Enhanced
        'parli inglese': "Sì, parlo inglese. How can I help?",
        'parli italiano': "Certo! Sono Solomon, il tuo assistente.",
        'che lingua': "Parlo italiano e inglese perfettamente!",
        'english': "Yes! I speak English. Parlo anche italiano!",
        
        # Location - More precise
        'dove': "Via Nazionale, esattamente 20 metri da Isola Bella.",
        'dove siete': "Via Nazionale, Taormina, 20 metri dalla spiaggia.",
        'indirizzo': "Via Nazionale, Taormina, Sicilia. Vicino Isola Bella!",
        # 'spiaggia':  # DISABLED "Isola Bella è a esattamente 20 metri!",
        'mare': "Il mare è vicinissimo, solo 20 metri!",
        'distanza': "20 metri da Isola Bella, 5 minuti a piedi dal centro!",
        
        # Shopping - Clearer
        'supermercato': "Proprio sotto di noi, di fronte Isola Bella!",
        'negozi': "Supermercato sotto, centro città 5 minuti a piedi.",
        'spesa': "Supermercato sotto Cohen House, comodissimo!",
        'shopping': "Centro Taormina a 5 minuti, supermercato sotto!",
        
        # Prices - Exact numbers with consistent discount
        'prezzo': "BOHO €500/notte, VINTAGE e SHABBY €450/notte. Sconto 20% diretto!",
        'quanto costa': "€450-500/notte. Prenota su cohenhouse.it, sconto 20%!",
        'costo': "BOHO €500, VINTAGE €450, SHABBY €450 a notte. Diretto: -20%!",
        'economico': "VINTAGE e SHABBY €450/notte, sconto 20% diretto!",
        
        # Apartments - Complete info
        'boho': "BOHO: 100m², max 10 ospiti, €500/notte, terrazza vista Etna!",
        'vintage': "VINTAGE: 90m², max 8 ospiti, €450/notte, balcone Isola Bella!",
        'shabby': "SHABBY: 90m², max 8 ospiti, €450/notte, shabby chic pastello!",
        'appartamenti': "3 appartamenti: BOHO (10 ospiti), VINTAGE e SHABBY (8 ospiti).",
        'più grande': "BOHO è il più grande: 100m², 10 ospiti, €500/notte!",
        'più piccolo': "VINTAGE e SHABBY: 90m², 8 ospiti, €450/notte ciascuno.",
        'quanti ospiti': "BOHO max 10, VINTAGE max 8, SHABBY max 8 ospiti.",
        
        # Booking - Clear instructions with consistent discount
        'prenotare': "www.cohenhouse.it - Prenota diretto, sconto 20%!",
        'disponibilità': "Controlla date su www.cohenhouse.it - Sconto 20% diretto!",
        'libro': "Prenota su cohenhouse.it, sconto 20% sul prezzo!",
        'sito': "www.cohenhouse.it - Prenota diretto, risparmia 20%!",
        'contatto': "info@cohenhouse.com o www.cohenhouse.it - Sconto 20% diretto!",
        'email': "info@cohenhouse.com",
        
        # Features - Specific
        'vista': "BOHO ha terrazza con vista Etna, VINTAGE balcone Isola Bella!",
        'balcone': "VINTAGE ha balcone su Isola Bella, BOHO terrazza vista Etna!",
        'terrazza': "BOHO ha terrazza privata con vista Monte Etna!",
        
        # Music
        'musica': "FIRE!",
        'canzone': "FIRE!",
        'suona': "FIRE!",
        
        # Name/Identity
        'chi sei': "Sono Solomon, orso AI concierge di Cohen House!",
        'nome': "Mi chiamo Solomon! Sono qui 24/7 per aiutarti!",
        'solomon': "Sì, sono Solomon! Come posso aiutarti?",
        
        # Thanks
        'grazie': "Prego! Sono sempre qui per te!",
        'perfetto': "Ottimo! Altro da sapere su Cohen House?",
    },
    'en': {
        # Greetings - More variations
        'hello': "Hello! Welcome to Cohen House.",
        'hi': "Hi! How can I help you?",
        'hey': "Hey! Welcome! What can I do for you?",
        'good morning': "Good morning! Welcome to Cohen House!",
        'good evening': "Good evening! How can I assist you?",
        'good night': "Good night! Sleep well!",
        
        # Language - Enhanced
        'speak italian': "Sì! Posso parlare italiano perfettamente!",
        'speak english': "Yes! I speak perfect English!",
        'language': "I speak Italian and English fluently!",
        'italian': "Sì! Parlo italiano! Yes, I speak Italian!",
        
        # Location - More precise
        'where': "Via Nazionale, Taormina, exactly 20 meters from Isola Bella.",
        'location': "Via Nazionale, just 20 meters from the beach!",
        'address': "Via Nazionale, Taormina, Sicily, near Isola Bella.",
        # 'beach':  # DISABLED - let AI handle detailed beach questions "Isola Bella beach is exactly 20 meters away!",
        'sea': "The sea is super close, only 20 meters!",
        'distance': "20 meters to Isola Bella, 5-minute walk to town center!",
        
        # Shopping - Clearer
        'supermarket': "Right below us, opposite Isola Bella beach!",
        'shop': "Supermarket below, town center 5-minute walk.",
        'grocery': "Grocery store right below Cohen House!",
        'shopping': "Town center 5 minutes, supermarket downstairs!",
        
        # Prices - Exact numbers with consistent discount
        'price': "BOHO €500/night, VINTAGE & SHABBY €450/night. Direct: save 20%!",
        'cost': "BOHO €500, VINTAGE €450, SHABBY €450 per night. Book direct: -20%!",
        'how much': "€450-500/night. Book direct at cohenhouse.it, save 20%!",
        'cheap': "VINTAGE and SHABBY €450/night, save 20% booking direct!",
        'expensive': "BOHO €500/night (largest, 10 guests). Save 20% direct!",
        
        # Apartments - Complete info
        'boho': "BOHO: 100m², max 10 guests, €500/night, terrace with Etna view!",
        'vintage': "VINTAGE: 90m², max 8 guests, €450/night, balcony over Isola Bella!",
        'shabby': "SHABBY: 90m², max 8 guests, €450/night, shabby chic style!",
        'apartments': "3 apartments: BOHO (10 guests), VINTAGE & SHABBY (8 guests each).",
        'biggest': "BOHO is largest: 100m², 10 guests, €500/night!",
        'smallest': "VINTAGE & SHABBY: 90m², 8 guests, €450/night each.",
        'how many': "BOHO max 10, VINTAGE max 8, SHABBY max 8 guests.",
        'capacity': "BOHO fits 10, VINTAGE and SHABBY fit 8 people each.",
        
        # Booking - Clear instructions with consistent discount
        'book': "www.cohenhouse.it - Book direct, save 20%!",
        'reserve': "Reserve at www.cohenhouse.it, save 20% direct!",
        'availability': "Check dates at www.cohenhouse.it - Direct saves 20%!",
        'website': "www.cohenhouse.it - Direct booking saves 20%!",
        'contact': "info@cohenhouse.com or www.cohenhouse.it - Save 20% direct!",
        'email': "info@cohenhouse.com",
        
        # Features - Specific
        'view': "BOHO has Etna view terrace, VINTAGE balcony over Isola Bella!",
        'balcony': "VINTAGE has balcony overlooking Isola Bella beach!",
        'terrace': "BOHO has private terrace with Mount Etna view!",
        
        # Music
        'music': "FIRE!",
        'song': "FIRE!",
        'play': "FIRE!",
        
        # Name/Identity
        'who are you': "I'm Solomon, AI bear concierge at Cohen House!",
        'your name': "I'm Solomon! Here 24/7 to help you!",
        'solomon': "Yes, that's me! How can I help?",
        
        # Thanks
        'thank': "You're welcome! Always here to help!",
        'thanks': "My pleasure! Anything else about Cohen House?",
        'perfect': "Great! Anything else you'd like to know?",
    }
}

def get_quick_response(text: str, lang: str):
    if not text or not lang:
        return None, False
    
    text_lower = text.lower()
    responses = QUICK_RESPONSES.get(lang, {})
    
    # ⚡ SPEED OPTIMIZATION: Try exact keyword match first
    for keyword, response in responses.items():
        if keyword in text_lower:
            is_music = keyword in ['musica', 'music', 'canzone', 'song', 'suona', 'play']
            print(f"⚡ INSTANT: {keyword}")
            return response, is_music
    
    return None, False
